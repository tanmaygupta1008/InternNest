{% comment %}
<!-- yourapp/templates/job_posting.html -->
{% extends 'base.html' %} {% block title %}Post a Job{% endblock %} {% block
content %}
<h2>Post a New Job / Internship</h2>
<form method="POST">
  {% csrf_token %} {{ form.as_p }}
  <button type="submit">Post Job</button>
</form>
{% endblock %} {% endcomment %} {%load static%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Webcrumbs Plugin</title>
    <link rel="stylesheet" href="{% static 'job_posting.css' %}" />
  </head>
  <body>
    <div id="webcrumbs">
      <div class="w-[800px] bg-white rounded-lg shadow-lg p-8">
        <form id="postJobForm" method="POST">
          {%csrf_token%}
          <div class="space-y-6">
            <div class="flex justify-between items-center mb-8">
              <div class="flex items-center space-x-4">
                <div
                  class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center p-3 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"
                >
                  <span class="material-symbols-outlined text-4xl text-white">work</span>
                </div>
                <h1 class="text-2xl font-bold">Post a New Job / Internship</h1>
              </div>
            </div>
            <div class="space-y-6">
              <!-- Title -->
              <div>
                <h3 class="text-sm text-gray-500 mb-2">Title</h3>
                <input
                  id="title"
                  name="title"
                  type="text"
                  class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                  required
                />
              </div>
              <!-- Description -->
              <div>
                <h3 class="text-sm text-gray-500 mb-2">Description</h3>
                <textarea
                  id="description"
                  name="description"
                  class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300 h-32"
                  required
                ></textarea>
              </div>
              <!-- Location and Opportunity Type -->
              <div class="grid grid-cols-2 gap-6">
                <div>
                  <h3 class="text-sm text-gray-500 mb-2">Location</h3>
                  <input
                    id="location"
                    name="location"
                    type="text"
                    class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                    required
                  />
                </div>
                <div>
                  <h3 class="text-sm text-gray-500 mb-2">Opportunity Type</h3>
                  <select
                    id="opportunity_type"
                    name="opportunity_type"
                    class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                    required
                  >
                    <option value="">Select type</option>
                    <option value="job">Job</option>
                    <option value="internship">Internship</option>
                  </select>
                </div>
              </div>
              <!-- Salary and Stipend -->
              <div class="grid grid-cols-2 gap-6">
                <div>
                  <h3 class="text-sm text-gray-500 mb-2">Salary Range</h3>
                  <input
                    id="salary_range"
                    name="salary_range"
                    type="text"
                    class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                  />
                </div>
                <div>
                  <h3 class="text-sm text-gray-500 mb-2">Stipend</h3>
                  <input
                    id="stipend"
                    name="stipend"
                    type="text"
                    class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                  />
                </div>
              </div>
              <!-- Duration, Start Date, Deadline -->
              <div class="grid grid-cols-3 gap-6">
                <div>
                  <h3 class="text-sm text-gray-500 mb-2">Duration</h3>
                  <input
                    id="duration"
                    name="duration"
                    type="text"
                    class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                  />
                </div>
                <div>
                  <h3 class="text-sm text-gray-500 mb-2">Start Date</h3>
                  <input
                    id="start_date"
                    name="start_date"
                    type="date"
                    class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                  />
                </div>
                <div>
                  <h3 class="text-sm text-gray-500 mb-2">Application Deadline</h3>
                  <input
                    id="application_deadline"
                    name="application_deadline"
                    type="date"
                    class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                  />
                </div>
              </div>
              <!-- Category -->
              <select
  id="category"
  name="category"
  class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
>
  {% for category in categories %}
  <option value="{{ category.id }}">{{ category.name }}</option>
  {% endfor %}
</select>

              <!-- Skills -->
<div>
  <h3 class="text-sm text-gray-500 mb-2">Skills Required</h3>
  <div class="flex items-center space-x-2">
    <input
      id="skills_input"
      type="text"
      placeholder="Enter a skill"
      class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
    />
    <button
      type="button"
      id="add_skill_button"
      class="abc py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transform hover:scale-[1.02] transition-all duration-300"
    >
      Add
    </button>
  </div>
  <div id="skills_list" class="mt-2 space-y-2"></div>
  <textarea id="skills_required" name="skills_required" hidden></textarea>
</div>


  <script>
    const skillsInput = document.getElementById('skills_input');
    const skillsList = document.getElementById('skills_list');
    const skillsRequired = document.getElementById('skills_required');
    const addSkillButton = document.getElementById('add_skill_button');
  
    let skills = [];
  
    addSkillButton.addEventListener('click', () => {
      const skill = skillsInput.value.trim();
      if (skill && !skills.includes(skill)) {
        skills.push(skill);
  
        // Create the skill item div
        const skillItem = document.createElement('div');
        skillItem.className = 'flex items-center justify-between p-3 bg-gradient-to-r from-green-100 to-green-50 border border-green-300 rounded-md shadow-md hover:shadow-lg transition-shadow duration-300';
        skillItem.style.marginTop ='5px'
        skillItem.style.height='60px'
        skillItem.innerHTML = `
        
          <span class="font-medium text-gray-700">${skill}</span>
          <button
            type="button"
            class="abc py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transform hover:scale-[1.02] transition-all duration-300 remove-skill"
          >
            Remove
          </button>
        `;
  
        skillsList.appendChild(skillItem);
        skillsInput.value = '';
        updateSkillsField();
      }
    });
  
    skillsList.addEventListener('click', (e) => {
      if (e.target.classList.contains('remove-skill')) {
        const skillItem = e.target.parentElement;
        const skill = skillItem.querySelector('span').textContent;
        skills = skills.filter((s) => s !== skill);
        skillItem.classList.add('opacity-0', 'scale-90', 'transition-all', 'duration-300'); // Add animation classes
  
        setTimeout(() => {
          skillItem.remove();
          updateSkillsField();
        }, 300); // Wait for the animation to complete before removing
      }
    });
  
    function updateSkillsField() {
      skillsRequired.value = JSON.stringify(skills);
    }
  </script>


              <!-- Experience -->
              <div>
                <h3 class="text-sm text-gray-500 mb-2">Experience Required</h3>
                <select
                  id="experience_required"
                  name="experience_required"
                  class="w-full p-3 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 hover:border-blue-300"
                >
                  <option value="">Select experience level</option>
                  <option value="entry">Entry Level</option>
                  <option value="intermediate">Intermediate</option>
                  <option value="expert">Expert</option>
                </select>
              </div>
            </div>
            <!-- Submit Button -->
            <div class="flex justify-end pt-6">
              <button
                type="submit"
                class="px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transform hover:scale-[1.02] transition-all duration-300 shadow-md"
              >
                Post Job
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    {% comment %} <script>
      // Add skills dynamically
      document.getElementById('add_skill_button').addEventListener('click', function () {
        const skillInput = document.getElementById('skills_input');
        const skillsList = document.getElementById('skills_list');
    
        if (skillInput.value.trim()) {
          const skill = skillInput.value.trim();
          const skillItem = document.createElement('div');
          skillItem.className = 'flex items-center justify-between p-2 bg-gray-100 rounded-md';
    
          skillItem.innerHTML = `
            <span>${skill}</span>
            <button type="button" class="text-red-500 hover:text-red-700 remove-skill">Remove</button>
          `;
    
          skillsList.appendChild(skillItem);
          skillInput.value = '';
        }
    
        // Remove skill
        skillsList.addEventListener('click', function (e) {
          if (e.target.classList.contains('remove-skill')) {
            e.target.parentElement.remove();
          }
        });
      });
    
      
    </script>
         {% endcomment %}
  </body>
</html>
